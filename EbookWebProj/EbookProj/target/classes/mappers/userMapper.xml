<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
  
<mapper namespace="com.spring.acorn.mapper.user">
 	<select id="login" parameterType ="user" resultType="user">
 		SELECT	USERID, PASSWORD, NAME, AGE, PHONE, GENRENUM, ADMIN
 		FROM		USERINFO
 		WHERE	USERID = #{userid} AND PASSWORD = #{password}
 	</select>
 	
 	<select id="putlist" resultType="putlistboard">
 	 	SELECT		USERID, PUTDATE, TITLE, AUTHOR, GENRENAME, TAG, LIKECNT
 		FROM		USERBOOK
 		LEFT JOIN	BOOKINFO  USING(BOOKNUM)
 		LEFT JOIN	GENRE USING(GENRENUM)
 		ORDER BY	PUTDATE ASC
 	</select>
 	
 	<select id="readlist" resultType="readlistboard">
 	 	SELECT		USERID, READDATE, TITLE, AUTHOR, GENRENAME, TAG, LIKECNT
 		FROM		RECODE
 		LEFT JOIN	BOOKINFO  USING(BOOKNUM)
 		LEFT JOIN	GENRE USING(GENRENUM)
 		ORDER BY	READDATE ASC
 	</select>
 	
 	<select id="withdrawal" parameterType ="user" resultType="user">
 	 	DELETE
 	 	FROM	USERINFO
 	 	WHERE	USERID = #{userid}
 	 	
 	</select>
</mapper>

